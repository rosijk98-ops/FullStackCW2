{% extends "base.html" %}
{% block title %}Home â€“ Scheduling System{% endblock %}

{% block content %}

<div class='container'>
  <div class="card mb-4">
    <div class='card-body'>
      <h3>Welcome, <strong>{{ user.username }}</strong></h3>
      <span class='badge bg-info'>{{ user.groups.all.0.name }}</span>
    </div>
  </div>
</div>

  <h1 class="mb-4">Dashboard</h1>
  <div class="row g-3">
    {% if user.is_superuser or is_trainer %}
    <div class="col-md-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <h5 class="card-title">Trainers</h5>
          <p class="card-text text-secondary">{{ trainer_count }} records</p>
          <a href="{% url 'trainers_list' %}" class="btn btn-primary">Manage Trainers</a>
        </div>
      </div>
    </div>
    {%endif%}
    {% if user.is_superuser or is_trainer%}
    <div class="col-md-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <h5 class="card-title">Members</h5>
          <p class="card-text text-secondary">{{ member_count }} records</p>
          <a href="{% url 'members_list' %}" class="btn btn-primary">Manage Members</a>
        </div>
      </div>
    </div>
    {%endif%}

    <div class="col-md-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <h5 class="card-title">Classes</h5>
          <p class="card-text text-secondary">{{ class_count }} records</p>
          <a href="{% url 'fitness_class_list' %}" class="btn btn-primary">Manage Classes</a>
        </div>
      </div>
    </div>

    {% if user.is_superuser or is_trainer%}
    <div class="col-md-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <h5 class="card-title">Locations</h5>
          <p class="card-text text-secondary">{{ location_count }} records</p>
          <a href="{% url 'locations_list' %}" class="btn btn-primary">Manage Locations</a>
        </div>
      </div>
    </div>
    {%endif%}
    {% if user.is_superuser or is_trainer%}
    <div class="col-md-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <h5 class="card-title">Schedule Entries</h5>
          <p class="card-text text-secondary">{{ schedule_count }} records</p>
          <a href="{% url 'schedule_list' %}" class="btn btn-primary">Manage Schedule</a>
        </div>
      </div>
    </div>
    {%endif%}

    <div class="col-md-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <h5 class="card-title">Bookings</h5>
          <p class="card-text text-secondary">{{ booking_count }} records</p>
          <a href="{% url 'bookings_list_cbv' %}" class="btn btn-primary">Manage Bookings</a>
        </div>
      </div>
    </div>

    {% if is_member %}
<div class="col-md-4">
  <div class="card shadow-sm h-100">
    <div class="card-body">
      <h5 class="card-title">Workout Logs</h5>
      <p class="card-text text-secondary">{{ workoutlog_count }} records</p>
      <a href="{% url 'workoutlogs_list' %}" class="btn btn-primary">My Workout Logs</a>
    </div>
  </div>
</div>
{% endif %}
    
  </div>
{% endblock %}